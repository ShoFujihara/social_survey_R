[{"path":"https://shofujihara.github.io/social_survey_R/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sho Fujihara. Author, maintainer.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fujihara S (2026). socialsurvey: R Functions Social Survey Data Analysis. R package version 0.1.0.","code":"@Manual{,   title = {socialsurvey: R Functions for Social Survey Data Analysis},   author = {Sho Fujihara},   year = {2026},   note = {R package version 0.1.0}, }"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"socialsurvey","dir":"","previous_headings":"","what":"R Functions for Social Survey Data Analysis","title":"R Functions for Social Survey Data Analysis","text":"R functions social survey data analysis.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"design-philosophy","dir":"","previous_headings":"","what":"Design Philosophy","title":"R Functions for Social Survey Data Analysis","text":"dplyr-friendly: functions work seamlessly |> pipe mutate() Tibble output: Results returned tibbles easy reuse analysis","code":""},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Functions for Social Survey Data Analysis","text":"","code":"# Install from GitHub devtools::install_github(\"ShoFujihara/social_survey_R\")  # Load library(socialsurvey)"},{"path":[]},{"path":[]},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"download-sample-data","dir":"","previous_headings":"Usage","what":"Download Sample Data","title":"R Functions for Social Survey Data Analysis","text":"Download unrestricted pseudo-data CSRDA practice education. Data source: CSRDA","code":"library(socialsurvey)  # Download and normalize labels (full-width to half-width) ssm <- download_csrda(\"ssm\") |> normalize_labels() jlps <- download_csrda(\"jlps\") |> normalize_labels()"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"variable-list","dir":"","previous_headings":"Usage","what":"Variable List","title":"R Functions for Social Survey Data Analysis","text":"","code":"# List all variables with labels varlist(ssm)  # Include value labels varlist(ssm, value_labels = TRUE)  # Filter variables by label varlist(ssm) |> dplyr::filter(grepl(\"満足\", label))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"frequency-table","dir":"","previous_headings":"Usage","what":"Frequency Table","title":"R Functions for Social Survey Data Analysis","text":"","code":"# Basic frequency freq(ssm, sex)  # Japanese output freq(ssm, sex, lang = \"ja\")  # With weight (if available) # freq(ssm, sex, wt = weight)"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"metadata","dir":"","previous_headings":"Usage","what":"Metadata","title":"R Functions for Social Survey Data Analysis","text":"Note: Use labelled::as_factor() convert labelled variables factors value labels factor levels.","code":"# Get variable info metadata(ssm)  # Set labels ssm <- set_var_label(ssm, sex, \"Gender\") ssm <- set_val_labels(ssm, sex, `1` = \"Male\", `2` = \"Female\")  # Convert to factor using labels ssm$sex_fc <- labelled::as_factor(ssm$sex)  # Or with dplyr ssm <- ssm |> dplyr::mutate(sex_fc = labelled::as_factor(sex))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"apply-labels-from-csv","dir":"","previous_headings":"Usage","what":"Apply Labels from CSV","title":"R Functions for Social Survey Data Analysis","text":"","code":"# Read label definition CSV label_def <- read.csv(\"labels.csv\") ssm <- apply_labels(ssm, label_def)"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"csv-format","dir":"","previous_headings":"Usage > Apply Labels from CSV","what":"CSV Format","title":"R Functions for Social Survey Data Analysis","text":"Example CSV: Rules: - Use semicolon (;) separate multiple value labels - Use equals sign (=) separate value label (format: value=label) - Enclose value_labels quotes contains commas - Leave cell empty label needed - Labels can contain = (e.g., 1==B works) - Labels contain ; (used separator)","code":"variable,label,value_labels sex,Gender,\"1=Male; 2=Female\" age,Age in years, educ,Education level,\"4=Junior high; 5=High school; 10=University\""},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"apply-labels-from-json","dir":"","previous_headings":"Usage","what":"Apply Labels from JSON","title":"R Functions for Social Survey Data Analysis","text":"JSON format allows characters labels (including ; =).","code":"# Apply labels from JSON ssm <- apply_labels_json(ssm, \"labels.json\")  # Export labels to JSON export_labels_json(ssm, \"labels.json\")"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"standardize-variables","dir":"","previous_headings":"Usage","what":"Standardize Variables","title":"R Functions for Social Survey Data Analysis","text":"","code":"# Z-scores (mean = 0, sd = 1) ssm$pinc_z <- std(ssm$pinc)  # T-scores (mean = 50, sd = 10) ssm$pinc_t <- std(ssm$pinc, mean = 50, sd = 10)  # With dplyr ssm <- ssm |> dplyr::mutate(pinc_z = std(pinc))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"format-numbers","dir":"","previous_headings":"Usage","what":"Format Numbers","title":"R Functions for Social Survey Data Analysis","text":"","code":"# Preserve trailing zeros fmt(1.5)       # \"1.50\" fmt(1.5, 3)    # \"1.500\" fmt(0, 2)      # \"0.00\"  # With dplyr ssm |> dplyr::mutate(pinc_fmt = fmt(pinc, 0))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"quantile-groups","dir":"","previous_headings":"Usage","what":"Quantile Groups","title":"R Functions for Social Survey Data Analysis","text":"precise dplyr::ntile() uses ranks. quantile_group() uses actual quantile values.","code":"# Quartiles (4 groups, default) ssm$pinc_q4 <- quantile_group(ssm$pinc)  # Tertiles (3 groups) ssm$pinc_q3 <- quantile_group(ssm$pinc, 3)  # Deciles (10 groups) ssm$pinc_q10 <- quantile_group(ssm$pinc, 10)  # With dplyr ssm <- ssm |> dplyr::mutate(pinc_q = quantile_group(pinc, 4))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"percent-rank","dir":"","previous_headings":"Usage","what":"Percent Rank","title":"R Functions for Social Survey Data Analysis","text":"Returns weighted proportion observations values less value (0 1).","code":"# Percent rank (unweighted) ssm$pinc_prank <- prank(ssm$pinc)  # With dplyr ssm <- ssm |> dplyr::mutate(pinc_prank = prank(pinc))"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"occupational-scales-seissi","dir":"","previous_headings":"Usage","what":"Occupational Scales (SEI/SSI)","title":"R Functions for Social Survey Data Analysis","text":"Assign Socio-Economic Index (SEI) Social Status Index (SSI) values occupation codes. Supported scale types: - \"ssm\": SSM occupation codes (196 categories) - \"jess\": JESS 232 occupation codes (231 categories) Data source: OccupationalScales","code":"# Assign SEI/SSI from SSM occupation codes ssm <- ssm |> occ_scale(occupation, type = \"ssm\")  # Assign from JESS 232 occupation codes data <- data |> occ_scale(occ_code, type = \"jess\")  # Check for codes without scale values check_occ_scale(ssm, occupation, type = \"ssm\")"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"preprocessing-labels-japanese-support","dir":"","previous_headings":"Usage","what":"Preprocessing Labels (Japanese Support)","title":"R Functions for Social Survey Data Analysis","text":"normalize_labels() options: - convert_numbers: Full-width numbers ０-９ → 0-9 (default: TRUE) - convert_symbols: Full-width symbols ＝；，etc. → =;, (default: TRUE) - convert_alpha: Full-width alphabet Ａ-Ｚ → -Z (default: TRUE) - convert_space: Full-width space → half-width (default: TRUE) - space_before_paren: Add space ( (default: TRUE). Example: “問1（回答）” → “問1 (回答)” - space_after_paren: Add space ) (default: TRUE). Example: “（注）回答” → “(注) 回答” - space_after_colon: Add space : (default: TRUE). Example: “問1：回答” → “問1: 回答” - space_after_period: Add space . (default: TRUE). Example: “問1．回答” → “問1. 回答” validate_labels() checks: - Newline characters (\\n, \\r) - Tab characters (\\t) - Control characters - Semicolons value labels (CSV incompatible)","code":"# Normalize full-width characters to half-width ssm <- normalize_labels(ssm)  # Also convert full-width alphabet (ａ→a, Ａ→A) ssm <- normalize_labels(ssm, convert_alpha = TRUE)  # Check for prohibited characters issues <- validate_labels(ssm)  # Japanese output issues <- validate_labels(ssm, lang = \"ja\")"},{"path":"https://shofujihara.github.io/social_survey_R/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"R Functions for Social Survey Data Analysis","text":"GPL (>= 3)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Labels from a Definition Data Frame — apply_labels","title":"Apply Labels from a Definition Data Frame — apply_labels","text":"Apply Labels Definition Data Frame","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Labels from a Definition Data Frame — apply_labels","text":"","code":"apply_labels(data, label_def)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Labels from a Definition Data Frame — apply_labels","text":"data Data frame apply labels label_def Data frame columns: variable, label, value_labels","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Labels from a Definition Data Frame — apply_labels","text":"Data frame labels applied","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply Labels from a Definition Data Frame — apply_labels","text":"","code":"# Define labels in R label_def <- data.frame(   variable = c(\"gender\", \"age\"),   label = c(\"Gender\", \"Age in years\"),   value_labels = c(\"1=Male; 2=Female\", NA) ) df <- apply_labels(df, label_def)  # From CSV (machine readable) # labels.csv: # variable,label,value_labels # gender,Gender,\"1=Male; 2=Female\" # age,Age in years, # # label_def <- read.csv(\"labels.csv\") # df <- apply_labels(df, label_def)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Labels from JSON File — apply_labels_json","title":"Apply Labels from JSON File — apply_labels_json","text":"Apply variable labels value labels JSON file. JSON format allows special characters (;, =, \") labels.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Labels from JSON File — apply_labels_json","text":"","code":"apply_labels_json(data, file)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Labels from JSON File — apply_labels_json","text":"data Data frame apply labels file Path JSON file","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Labels from JSON File — apply_labels_json","text":"Data frame labels applied","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_labels_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply Labels from JSON File — apply_labels_json","text":"","code":"# JSON format: # [ #   {\"variable\": \"gender\", \"label\": \"Gender\", #    \"value_labels\": {\"1\": \"Male\", \"2\": \"Female\"}}, #   {\"variable\": \"age\", \"label\": \"Age in years\"} # ] # # df <- apply_labels_json(df, \"labels.json\")"},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_spss_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","title":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","text":"Parse SPSS VARIABLE LABELS VALUE LABELS syntax apply data frame. Combines parse_spss_labels apply_labels.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_spss_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","text":"","code":"apply_spss_labels(data, syntax = NULL, file = NULL)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_spss_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","text":"data Data frame apply labels syntax Character string containing SPSS syntax. NULL, file must specified. file Path SPSS syntax file (.sps). NULL, syntax must specified.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_spss_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","text":"Data frame labels applied","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/apply_spss_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply SPSS Label Syntax to Data Frame — apply_spss_labels","text":"","code":"spss_syntax <- ' VARIABLE LABELS   gender \"Gender\"   age \"Age in years\". VALUE LABELS   gender     1 \"Male\"     2 \"Female\". ' df <- apply_spss_labels(df, spss_syntax)  # From .sps file # df <- apply_spss_labels(df, file = \"labels.sps\")"},{"path":"https://shofujihara.github.io/social_survey_R/reference/check_occ_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Unmatched Occupation Codes — check_occ_scale","title":"Check Unmatched Occupation Codes — check_occ_scale","text":"Identify occupation codes data corresponding SEI/SSI scale values.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/check_occ_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Unmatched Occupation Codes — check_occ_scale","text":"","code":"check_occ_scale(data, code, type = c(\"ssm\", \"jess\"))"},{"path":"https://shofujihara.github.io/social_survey_R/reference/check_occ_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Unmatched Occupation Codes — check_occ_scale","text":"data Data frame code Variable name containing occupation codes (unquoted) type Scale type: \"ssm\" SSM occupation codes (default), \"jess\" JESS 232 occupation codes","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/check_occ_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Unmatched Occupation Codes — check_occ_scale","text":"Tibble columns code (unmatched code values) n (number observations). Returns empty tibble codes match.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/check_occ_scale.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Unmatched Occupation Codes — check_occ_scale","text":"","code":"df <- data.frame(occ = c(501, 502, 999, 999)) check_occ_scale(df, occ, type = \"ssm\") #> # A tibble: 1 × 2 #>    code     n #>   <dbl> <int> #> 1   999     2"},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":null,"dir":"Reference","previous_headings":"","what":"Download CSRDA Sample Data — download_csrda","title":"Download CSRDA Sample Data — download_csrda","text":"Download unrestricted pseudo-data CSRDA (Center Social Research Data Archives) Institute Social Science, University Tokyo. Data downloaded directly CSRDA servers.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download CSRDA Sample Data — download_csrda","text":"","code":"download_csrda(   dataset = c(\"ssm\", \"jlps\"),   dir = \".\",   load = TRUE,   format = c(\"sav\", \"dta\", \"csv\"),   quiet = FALSE )"},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download CSRDA Sample Data — download_csrda","text":"dataset Dataset download: \"ssm\" (2015 SSM Survey) \"jlps\" (JLPS-Y wave1 2007) dir Directory save data. Default current working directory. load TRUE, load data R downloading. Default TRUE. format File format load: \"sav\" (SPSS), \"dta\" (Stata), \"csv\". Default \"sav\". quiet TRUE, suppress messages. Default FALSE.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download CSRDA Sample Data — download_csrda","text":"load = TRUE, returns tibble. Otherwise returns path extracted directory invisibly.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download CSRDA Sample Data — download_csrda","text":"Available datasets: ssm: 2015 SSM Japan Survey (u002) - 2,000 cases, 35 variables jlps: JLPS-Y wave1 2007 (u001) - 1,000 cases, 72 variables pseudo-data created actual survey data noise added. intended education practice , academic research. academic research, please apply actual data SSJDA Direct. Data source: https://csrda.iss.u-tokyo.ac.jp/infrastructure/urd/","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download CSRDA Sample Data — download_csrda","text":"Questionnaires codebooks included download. Please download directly CSRDA website: SSM: https://csrda.iss.u-tokyo.ac.jp/infrastructure/urd/ssm/ JLPS: https://csrda.iss.u-tokyo.ac.jp/infrastructure/urd/jlps/","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/download_csrda.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download CSRDA Sample Data — download_csrda","text":"","code":"if (FALSE) { # \\dontrun{ # Download and load SSM data ssm <- download_csrda(\"ssm\")  # Download JLPS data to specific directory jlps <- download_csrda(\"jlps\", dir = \"data\")  # Download without loading download_csrda(\"ssm\", load = FALSE) } # }"},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Export Labels to CSV Format — export_labels","title":"Export Labels to CSV Format — export_labels","text":"Export variable labels value labels data frame CSV-compatible data frame can used apply_labels().","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export Labels to CSV Format — export_labels","text":"","code":"export_labels(data, file = NULL)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export Labels to CSV Format — export_labels","text":"data Data frame labelled variables file Optional file path save CSV. NULL, returns data frame .","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export Labels to CSV Format — export_labels","text":"Data frame columns: variable, label, value_labels","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export Labels to CSV Format — export_labels","text":"","code":"library(labelled) df <- data.frame(   gender = c(1, 2, 1, 2),   age = c(25, 30, 35, 40) ) var_label(df$gender) <- \"Gender\" val_labels(df$gender) <- c(\"Male\" = 1, \"Female\" = 2) var_label(df$age) <- \"Age in years\"  # Get as data frame label_def <- export_labels(df)  # Save to CSV export_labels(df, \"labels.csv\") #> Labels exported to: labels.csv #>   variable        label     value_labels #> 1   gender       Gender 1=Male; 2=Female #> 2      age Age in years             <NA>"},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Export Labels to JSON Format — export_labels_json","title":"Export Labels to JSON Format — export_labels_json","text":"Export variable labels value labels JSON file. JSON format allows special characters (;, =, \") labels.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export Labels to JSON Format — export_labels_json","text":"","code":"export_labels_json(data, file = NULL, pretty = TRUE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export Labels to JSON Format — export_labels_json","text":"data Data frame labelled variables file Optional file path save JSON. NULL, returns list . pretty TRUE, format JSON indentation (default TRUE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export Labels to JSON Format — export_labels_json","text":"List label definitions (invisibly file specified)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/export_labels_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export Labels to JSON Format — export_labels_json","text":"","code":"# Export to JSON export_labels_json(df, \"labels.json\") #> Labels exported to: labels.json  # Get as list label_list <- export_labels_json(df)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/fmt.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Numbers with Fixed Decimal Places — fmt","title":"Format Numbers with Fixed Decimal Places — fmt","text":"Format numeric values fixed number decimal places, preserving trailing zeros consistent display tables figures.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/fmt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Numbers with Fixed Decimal Places — fmt","text":"","code":"fmt(x, digits = 2, trim = TRUE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/fmt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Numbers with Fixed Decimal Places — fmt","text":"x Numeric vector format digits Number decimal places (default = 2) trim Remove leading whitespace (default = TRUE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/fmt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Numbers with Fixed Decimal Places — fmt","text":"Character vector formatted numbers","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/fmt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Numbers with Fixed Decimal Places — fmt","text":"","code":"# Basic usage fmt(1.5)       # \"1.50\" #> [1] \"1.50\" fmt(1.5, 3)    # \"1.500\" #> [1] \"1.500\" fmt(0.1, 2)    # \"0.10\" #> [1] \"0.10\"  # Vector input fmt(c(1, 1.5, 1.55, 1.555))  # \"1.00\" \"1.50\" \"1.55\" \"1.56\" #> [1] \"1.00\" \"1.50\" \"1.55\" \"1.55\"  # With dplyr # df |> mutate(mean_fmt = fmt(mean_val))"},{"path":"https://shofujihara.github.io/social_survey_R/reference/freq.html","id":null,"dir":"Reference","previous_headings":"","what":"Frequency Table — freq","title":"Frequency Table — freq","text":"Create frequency table single variable total valid percentages.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/freq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Frequency Table — freq","text":"","code":"freq(data, var, wt = 1, prob = FALSE, lang = \"en\", quiet = FALSE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/freq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Frequency Table — freq","text":"data Data frame var Variable name (unquoted) wt Weight variable (default = 1) prob TRUE, treat wt probability weight use 1/wt (default = FALSE) lang Language output: \"en\" (default) \"ja\" quiet TRUE, suppress summary output (default = FALSE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/freq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Frequency Table — freq","text":"Frequency table (tibble)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/freq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Frequency Table — freq","text":"","code":"# Sample data df <- data.frame(   gender = c(\"Male\", \"Female\", \"Male\", NA, \"Female\", \"Male\", NA),   age_group = c(\"20s\", \"30s\", \"20s\", \"40s\", NA, \"30s\", \"20s\"),   weight = c(1.2, 0.8, 1.0, 1.1, 0.9, 1.3, 0.7) )  # Frequency table (no weight) freq(df, gender) #> Variable: gender #> Total: 7  Valid: 5  Missing: 2 (28.6%) #>  #>   gender n  percent valid_n valid_percent #> 1 Female 2 28.57143       2            40 #> 2   Male 3 42.85714       3            60 #> 3   <NA> 2 28.57143      NA            NA  # Frequency table (with weight) freq(df, gender, wt = weight) #> Variable: gender #> Total: 7  Valid: 5.2  Missing: 1.8 (25.7%) #>  #>   gender   n  percent valid_n valid_percent #> 1 Female 1.7 24.28571     1.7      32.69231 #> 2   Male 3.5 50.00000     3.5      67.30769 #> 3   <NA> 1.8 25.71429      NA            NA  # Frequency table (with probability weight) freq(df, gender, wt = weight, prob = TRUE) #> Variable: gender #> Total: 7.3  Valid: 5  Missing: 2.3 (32%) #>  #>   gender        n  percent  valid_n valid_percent #> 1 Female 2.361111 32.33806 2.361111       47.5678 #> 2   Male 2.602564 35.64503 2.602564       52.4322 #> 3   <NA> 2.337662 32.01691       NA            NA  # Japanese output freq(df, gender, lang = \"ja\") #> 変数: gender #> 総数: 7  有効: 5  欠損: 2 (28.6%) #>  #>   gender n  percent valid_n valid_percent #> 1 Female 2 28.57143       2            40 #> 2   Male 3 42.85714       3            60 #> 3   <NA> 2 28.57143      NA            NA"},{"path":"https://shofujihara.github.io/social_survey_R/reference/metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Variable and Value Labels Metadata — metadata","title":"Get Variable and Value Labels Metadata — metadata","text":"Extract variable labels value labels data frame.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Variable and Value Labels Metadata — metadata","text":"","code":"metadata(data, lang = \"en\", quiet = FALSE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Variable and Value Labels Metadata — metadata","text":"data Data frame (supports labelled data haven) lang Language output: \"en\" (default) \"ja\" quiet TRUE, suppress summary output (default = FALSE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Variable and Value Labels Metadata — metadata","text":"Data frame variable metadata","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Variable and Value Labels Metadata — metadata","text":"","code":"# Sample data with labels library(labelled) df <- data.frame(   gender = c(1, 2, 1, 2),   age = c(25, 30, 35, 40) ) var_label(df$gender) <- \"Gender\" val_labels(df$gender) <- c(\"Male\" = 1, \"Female\" = 2) var_label(df$age) <- \"Age in years\"  # Get metadata metadata(df) #> Metadata #> Cases: 4  Variables: 2 #>  #>   variable        label           type n missing missing_pct     value_labels #> 1   gender       Gender haven_labelled 4       0           0 1=Male; 2=Female #> 2      age Age in years        numeric 4       0           0             <NA>"},{"path":"https://shofujihara.github.io/social_survey_R/reference/normalize_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","title":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","text":"Convert full-width characters half-width variable value labels. Useful Japanese data numbers symbols may full-width format.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/normalize_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","text":"","code":"normalize_labels(   data,   convert_numbers = TRUE,   convert_symbols = TRUE,   convert_alpha = TRUE,   convert_space = TRUE,   space_before_paren = TRUE,   space_after_paren = TRUE,   space_after_colon = TRUE,   space_after_period = TRUE )"},{"path":"https://shofujihara.github.io/social_survey_R/reference/normalize_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","text":"data Data frame labelled variables convert_numbers Convert full-width numbers half-width (0-9). Default TRUE. convert_symbols Convert full-width symbols (=, ;, etc.) half-width. Default TRUE. convert_alpha Convert full-width alphabet (-Z, -z) half-width. Default TRUE. convert_space Convert full-width space half-width. Default TRUE. space_before_paren Add space half-width opening parenthesis converting full-width. Default TRUE. space_after_paren Add space half-width closing parenthesis converting full-width. Default TRUE. space_after_colon Add space half-width colon converting full-width. Default TRUE. space_after_period Add space half-width period converting full-width. Default TRUE.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/normalize_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","text":"Data frame normalized labels","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/normalize_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Normalize Labels (Full-width to Half-width Conversion) — normalize_labels","text":"","code":"# Normalize full-width numbers, symbols, and alphabet in labels df <- normalize_labels(df)  # Skip alphabet conversion df <- normalize_labels(df, convert_alpha = FALSE)  # No space adjustments df <- normalize_labels(df, space_before_paren = FALSE, space_after_paren = FALSE,                        space_after_colon = FALSE, space_after_period = FALSE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign Occupational Scales (SEI/SSI) — occ_scale","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"Look Socio-Economic Index (SEI) Social Status Index (SSI) values occupation codes add new columns data frame.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"","code":"occ_scale(data, code, type = c(\"ssm\", \"jess\"), quiet = FALSE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"Data OccupationalScales v1.0: https://github.com/ShoFujihara/OccupationalScales","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"data Data frame code Variable name containing occupation codes (unquoted) type Scale type: \"ssm\" SSM occupation codes (default), \"jess\" JESS 232 occupation codes quiet TRUE, suppress messages unmatched codes (default = FALSE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"Data frame .sei .ssi columns added. Unmatched codes NA columns.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/occ_scale.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assign Occupational Scales (SEI/SSI) — occ_scale","text":"","code":"df <- data.frame(occ = c(501, 502, 999)) occ_scale(df, occ, type = \"ssm\") #> 1 observations with unmatched codes (NA assigned): 999 #> # A tibble: 3 × 3 #>     occ  .sei  .ssi #>   <dbl> <dbl> <dbl> #> 1   501  68.0  70.4 #> 2   502  71.0  75.5 #> 3   999  NA    NA    # With dplyr pipe # data |> occ_scale(occupation, type = \"ssm\")"},{"path":"https://shofujihara.github.io/social_survey_R/reference/parse_spss_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse SPSS Label Syntax — parse_spss_labels","title":"Parse SPSS Label Syntax — parse_spss_labels","text":"Parse SPSS VARIABLE LABELS VALUE LABELS syntax data frame compatible apply_labels.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/parse_spss_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse SPSS Label Syntax — parse_spss_labels","text":"","code":"parse_spss_labels(syntax = NULL, file = NULL)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/parse_spss_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse SPSS Label Syntax — parse_spss_labels","text":"syntax Character string containing SPSS syntax. NULL, file must specified. file Path SPSS syntax file (.sps). NULL, syntax must specified.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/parse_spss_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse SPSS Label Syntax — parse_spss_labels","text":"Data frame columns: variable, label, value_labels","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/parse_spss_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse SPSS Label Syntax — parse_spss_labels","text":"","code":"spss_syntax <- ' VARIABLE LABELS   gender \"Gender\"   age \"Age in years\". VALUE LABELS   gender     1 \"Male\"     2 \"Female\". ' label_def <- parse_spss_labels(spss_syntax)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/prank.html","id":null,"dir":"Reference","previous_headings":"","what":"Weighted Percent Rank — prank","title":"Weighted Percent Rank — prank","text":"Calculate percent rank survey weights. Returns weighted proportion observations values less value.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/prank.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weighted Percent Rank — prank","text":"","code":"prank(x, weights = NULL, na.rm = TRUE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/prank.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weighted Percent Rank — prank","text":"x Numeric vector weights Numeric vector weights (length x). NULL, equal weights used. na.rm Remove NA values (default TRUE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/prank.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Weighted Percent Rank — prank","text":"Numeric vector values 0 1","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/prank.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Weighted Percent Rank — prank","text":"","code":"x <- c(10, 20, 20, 30, 40) w <- c(1, 2, 1, 3, 1)  # Weighted percent rank prank(x, w) #> [1] 0.000 0.125 0.125 0.500 0.875  # Without weights (equal weights) prank(x) #> [1] 0.0 0.2 0.2 0.6 0.8  # With dplyr # ssm |> mutate(pinc_prank = prank(pinc, weight))"},{"path":"https://shofujihara.github.io/social_survey_R/reference/quantile_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Divide Values into Quantile Groups — quantile_group","title":"Divide Values into Quantile Groups — quantile_group","text":"Divide numeric vector n groups based quantile values. precise dplyr::ntile() uses ranks.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/quantile_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Divide Values into Quantile Groups — quantile_group","text":"","code":"quantile_group(x, n = 4, na.rm = TRUE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/quantile_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Divide Values into Quantile Groups — quantile_group","text":"x Numeric vector n Number groups (default = 4 quartiles) na.rm Remove NA values calculating quantiles (default = TRUE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/quantile_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Divide Values into Quantile Groups — quantile_group","text":"Integer vector group assignments (1 n)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/quantile_group.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Divide Values into Quantile Groups — quantile_group","text":"","code":"x <- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)  # Quartiles (4 groups) quantile_group(x)       # 1 1 1 2 2 3 3 4 4 4 #>  [1] 1 1 1 2 2 3 3 4 4 4  # Tertiles (3 groups) quantile_group(x, 3)    # 1 1 1 1 2 2 2 3 3 3 #>  [1] 1 1 1 1 2 2 2 3 3 3  # Deciles (10 groups) quantile_group(x, 10) #>  [1]  1  2  3  4  5  6  7  8  9 10  # With NA values x <- c(1, 2, NA, 4, 5) quantile_group(x)       # 1 1 NA 3 4 #> [1]  1  2 NA  3  4  # With dplyr # df |> mutate(income_q = quantile_group(income, 4))"},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_val_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Value Labels — set_val_labels","title":"Set Value Labels — set_val_labels","text":"Set Value Labels","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_val_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Value Labels — set_val_labels","text":"","code":"set_val_labels(data, var, ...)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_val_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Value Labels — set_val_labels","text":"data Data frame var Variable name (unquoted) ... Value-label pairs (e.g., 1 = \"Male\", 2 = \"Female\")","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_val_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Value Labels — set_val_labels","text":"Data frame value labels applied","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_val_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Value Labels — set_val_labels","text":"","code":"df <- data.frame(gender = c(1, 2, 1), age = c(25, 30, 35)) df <- set_val_labels(df, gender, `1` = \"Male\", `2` = \"Female\")"},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_var_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Variable Label — set_var_label","title":"Set Variable Label — set_var_label","text":"Set Variable Label","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_var_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Variable Label — set_var_label","text":"","code":"set_var_label(data, var, label)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_var_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Variable Label — set_var_label","text":"data Data frame var Variable name (unquoted) label Label string","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_var_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Variable Label — set_var_label","text":"Data frame label applied","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/set_var_label.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set Variable Label — set_var_label","text":"","code":"df <- data.frame(gender = c(1, 2, 1), age = c(25, 30, 35)) df <- set_var_label(df, gender, \"Gender\")"},{"path":"https://shofujihara.github.io/social_survey_R/reference/socialsurvey-package.html","id":null,"dir":"Reference","previous_headings":"","what":"socialsurvey: R Functions for Social Survey Data Analysis — socialsurvey-package","title":"socialsurvey: R Functions for Social Survey Data Analysis — socialsurvey-package","text":"collection R functions social survey data analysis. Includes tools frequency tables, metadata management, variable labels, value labels, codebook generation. Supports Stata, SPSS, SAS files.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/socialsurvey-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"socialsurvey: R Functions for Social Survey Data Analysis — socialsurvey-package","text":"Maintainer: Sho Fujihara sho.fujihara@iss.u-tokyo.ac.jp","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/std.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize a Variable — std","title":"Standardize a Variable — std","text":"Standardize numeric variable specified mean standard deviation. default, creates z-scores (mean = 0, sd = 1).","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/std.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize a Variable — std","text":"","code":"std(x, mean = 0, sd = 1, na.rm = TRUE)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/std.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize a Variable — std","text":"x Numeric vector standardize mean Target mean (default = 0) sd Target standard deviation (default = 1) na.rm Remove NA values calculating mean sd (default = TRUE)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/std.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize a Variable — std","text":"Standardized numeric vector","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/std.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standardize a Variable — std","text":"","code":"# Z-scores (mean = 0, sd = 1) x <- c(10, 20, 30, 40, 50) std(x) #> [1] -1.2649111 -0.6324555  0.0000000  0.6324555  1.2649111  # Standardize to mean = 50, sd = 10 (T-scores) std(x, mean = 50, sd = 10) #> [1] 37.35089 43.67544 50.00000 56.32456 62.64911  # With NA values x <- c(10, 20, NA, 40, 50) std(x)  # NA is preserved in output #> [1] -1.0954451 -0.5477226         NA  0.5477226  1.0954451  # Use with dplyr # df |> mutate(income_z = std(income))"},{"path":"https://shofujihara.github.io/social_survey_R/reference/validate_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Labels for Prohibited Characters — validate_labels","title":"Validate Labels for Prohibited Characters — validate_labels","text":"Check variable value labels prohibited problematic characters. Returns report issues found.","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/validate_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Labels for Prohibited Characters — validate_labels","text":"","code":"validate_labels(   data,   check_newlines = TRUE,   check_tabs = TRUE,   check_control = TRUE,   check_csv_special = TRUE,   lang = \"en\" )"},{"path":"https://shofujihara.github.io/social_survey_R/reference/validate_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Labels for Prohibited Characters — validate_labels","text":"data Data frame labelled variables check_newlines Check newline characters (\\n, \\r). Default TRUE. check_tabs Check tab characters (\\t). Default TRUE. check_control Check control characters. Default TRUE. check_csv_special Check CSV special characters (; value labels). Default TRUE. lang Language output: \"en\" (default) \"ja\"","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/validate_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Labels for Prohibited Characters — validate_labels","text":"Data frame validation issues (invisible issues)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/validate_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Labels for Prohibited Characters — validate_labels","text":"","code":"# Check for problematic characters issues <- validate_labels(df) #> No issues found  # Japanese output issues <- validate_labels(df, lang = \"ja\") #> 問題は見つかりませんでした"},{"path":"https://shofujihara.github.io/social_survey_R/reference/varlist.html","id":null,"dir":"Reference","previous_headings":"","what":"List Variables with Labels — varlist","title":"List Variables with Labels — varlist","text":"Extract variable names labels data frame tibble. Useful quick reference variable names descriptions. default, prints rows (unlike standard tibble shows 10 rows).","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/varlist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Variables with Labels — varlist","text":"","code":"varlist(data, value_labels = FALSE, n = Inf)"},{"path":"https://shofujihara.github.io/social_survey_R/reference/varlist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Variables with Labels — varlist","text":"data data frame (typically labelled variables) value_labels TRUE, include value labels column. Default FALSE. n Number rows print. Default Inf (rows).","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/varlist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Variables with Labels — varlist","text":"tibble columns: variable, label (optionally value_labels)","code":""},{"path":"https://shofujihara.github.io/social_survey_R/reference/varlist.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Variables with Labels — varlist","text":"","code":"if (FALSE) { # \\dontrun{ ssm <- download_csrda(\"ssm\") varlist(ssm)  # Include value labels varlist(ssm, value_labels = TRUE)  # Filter variables varlist(ssm) |> dplyr::filter(grepl(\"問6\", label)) } # }"},{"path":[]},{"path":"https://shofujihara.github.io/social_survey_R/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"socialsurvey 0.1.0","text":"freq(): Frequency table valid/missing percentages, supports Japanese output (lang = \"ja\") survey weights varlist(): List variables labels, optional value labels display metadata(): Extract variable value labels tibble set_var_label() / set_val_labels(): Set variable value labels apply_labels(): Batch apply labels CSV definition table apply_labels_json(): Batch apply labels JSON file export_labels() / export_labels_json(): Export labels CSV JSON normalize_labels(): Convert full-width characters half-width (Japanese support) validate_labels(): Check labels prohibited characters parse_spss_labels(): Parse SPSS VARIABLE LABELS / VALUE LABELS syntax apply_spss_labels(): Apply SPSS syntax labels directly data frame std(): Standardize variables (z-scores, T-scores, etc.) fmt(): Format numbers fixed decimal places quantile_group(): Divide values quantile groups prank(): Weighted percent rank survey data occ_scale(): Assign SEI/SSI occupation codes (SSM / JESS 232) check_occ_scale(): Check occupation codes without scale values download_csrda(): Download sample data CSRDA","code":""},{"path":"https://shofujihara.github.io/social_survey_R/news/index.html","id":"design-0-1-0","dir":"Changelog","previous_headings":"","what":"Design","title":"socialsurvey 0.1.0","text":"functions dplyr-friendly work |> pipe mutate() Results returned tibbles easy reuse","code":""}]
